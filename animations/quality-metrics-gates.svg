<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1600 1000" style="background: linear-gradient(135deg, #134e5e 0%, #71b280 100%);">
  <defs>
    <linearGradient id="metricGradient1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="metricGradient2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="metricGradient3" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="metricGradient4" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#43e97b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#38f9d7;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="ratingGradientA" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#56ab2f;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#a8e063;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="ratingGradientB" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="ratingGradientC" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fee140;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fa709a;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="ratingGradientD" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fa709a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f45c43;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="ratingGradientE" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#eb3349;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8B0000;stop-opacity:1" />
    </linearGradient>
    
    <filter id="glow">
      <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <filter id="shadow">
      <feGaussianBlur in="SourceAlpha" stdDeviation="5"/>
      <feOffset dx="0" dy="4"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.5"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <style>
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
      }
      
      @keyframes slideIn {
        from { opacity: 0; transform: translateX(-50px); }
        to { opacity: 1; transform: translateX(0); }
      }
      
      @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
      }
      
      @keyframes fillBar {
        from { width: 0; }
        to { width: var(--final-width); }
      }
      
      @keyframes countUp {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      @keyframes gateCheck {
        0% { transform: scale(0); opacity: 0; }
        50% { transform: scale(1.2); }
        100% { transform: scale(1); opacity: 1; }
      }
      
      .title { animation: fadeIn 1s ease-out; }
      
      .metric-card { animation: fadeIn 1.5s ease-out; }
      .metric-card:nth-child(1) { animation-delay: 0.2s; }
      .metric-card:nth-child(2) { animation-delay: 0.4s; }
      .metric-card:nth-child(3) { animation-delay: 0.6s; }
      .metric-card:nth-child(4) { animation-delay: 0.8s; }
      
      .rating-badge { animation: slideIn 1.5s ease-out; }
      .rating-badge:nth-child(1) { animation-delay: 1s; }
      .rating-badge:nth-child(2) { animation-delay: 1.2s; }
      .rating-badge:nth-child(3) { animation-delay: 1.4s; }
      .rating-badge:nth-child(4) { animation-delay: 1.6s; }
      .rating-badge:nth-child(5) { animation-delay: 1.8s; }
      
      .pulse-icon { animation: pulse 2s ease-in-out infinite; }
      
      .gate-icon { animation: gateCheck 0.8s ease-out; }
      .gate-icon:nth-child(1) { animation-delay: 2s; }
      .gate-icon:nth-child(2) { animation-delay: 2.2s; }
      .gate-icon:nth-child(3) { animation-delay: 2.4s; }
      .gate-icon:nth-child(4) { animation-delay: 2.6s; }
    </style>
  </defs>
  
  <!-- Title -->
  <text x="800" y="50" font-family="Arial, sans-serif" font-size="42" font-weight="bold" fill="white" text-anchor="middle" class="title">
    Quality Metrics &amp; Quality Gates
  </text>
  <text x="800" y="85" font-family="Arial, sans-serif" font-size="18" fill="#e0e0e0" text-anchor="middle" class="title">
    Measuring and Enforcing Code Quality
  </text>
  
  <!-- Top Section: Core Metrics -->
  <g transform="translate(50, 120)">
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="white">
      üìä Core Quality Metrics
    </text>
    
    <!-- Reliability Rating -->
    <g class="metric-card">
      <rect x="0" y="20" width="360" height="180" rx="15" fill="url(#metricGradient1)" filter="url(#shadow)"/>
      <text x="180" y="55" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="white" text-anchor="middle">
        üêõ Reliability Rating
      </text>
      <line x1="20" y1="65" x2="340" y2="65" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
      
      <text x="20" y="90" font-family="Arial, sans-serif" font-size="12" fill="white" font-weight="bold">
        Formula:
      </text>
      <text x="20" y="110" font-family="Arial, sans-serif" font-size="11" fill="white">
        Bug Density = Bugs / (LOC / 1000)
      </text>
      
      <rect x="20" y="125" width="320" height="60" rx="8" fill="rgba(255,255,255,0.15)"/>
      <text x="30" y="145" font-family="Arial, sans-serif" font-size="10" fill="white">
        If bugs = 0              ‚Üí A
      </text>
      <text x="30" y="160" font-family="Arial, sans-serif" font-size="10" fill="white">
        If density &lt; 0.1%        ‚Üí B
      </text>
      <text x="30" y="175" font-family="Arial, sans-serif" font-size="10" fill="white">
        If density &lt; 1%          ‚Üí C
      </text>
      <text x="200" y="145" font-family="Arial, sans-serif" font-size="10" fill="white">
        If density &lt; 5%   ‚Üí D
      </text>
      <text x="200" y="160" font-family="Arial, sans-serif" font-size="10" fill="white">
        If density ‚â• 5%   ‚Üí E
      </text>
    </g>
    
    <!-- Security Rating -->
    <g class="metric-card">
      <rect x="380" y="20" width="360" height="180" rx="15" fill="url(#metricGradient2)" filter="url(#shadow)"/>
      <text x="560" y="55" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="white" text-anchor="middle">
        üîí Security Rating
      </text>
      <line x1="400" y1="65" x2="720" y2="65" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
      
      <text x="400" y="90" font-family="Arial, sans-serif" font-size="12" fill="white" font-weight="bold">
        Formula:
      </text>
      <text x="400" y="110" font-family="Arial, sans-serif" font-size="11" fill="white">
        Vuln. Density = Vulnerabilities / (LOC / 1000)
      </text>
      
      <rect x="400" y="125" width="320" height="60" rx="8" fill="rgba(255,255,255,0.15)"/>
      <text x="410" y="145" font-family="Arial, sans-serif" font-size="10" fill="white">
        If vulnerabilities = 0   ‚Üí A
      </text>
      <text x="410" y="160" font-family="Arial, sans-serif" font-size="10" fill="white">
        If density &lt; 0.1%        ‚Üí B
      </text>
      <text x="410" y="175" font-family="Arial, sans-serif" font-size="10" fill="white">
        If density &lt; 1%          ‚Üí C
      </text>
    </g>
    
    <!-- Maintainability Rating -->
    <g class="metric-card">
      <rect x="760" y="20" width="360" height="180" rx="15" fill="url(#metricGradient3)" filter="url(#shadow)"/>
      <text x="940" y="55" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="white" text-anchor="middle">
        üîß Maintainability Rating
      </text>
      <line x1="780" y1="65" x2="1100" y2="65" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
      
      <text x="780" y="90" font-family="Arial, sans-serif" font-size="12" fill="white" font-weight="bold">
        Formula:
      </text>
      <text x="780" y="110" font-family="Arial, sans-serif" font-size="11" fill="white">
        Tech Debt Ratio = (Tech Debt / Dev Cost) √ó 100
      </text>
      
      <rect x="780" y="125" width="320" height="60" rx="8" fill="rgba(255,255,255,0.15)"/>
      <text x="790" y="145" font-family="Arial, sans-serif" font-size="10" fill="white">
        If ratio ‚â§ 5%   ‚Üí A (Excellent)
      </text>
      <text x="790" y="160" font-family="Arial, sans-serif" font-size="10" fill="white">
        If ratio ‚â§ 10%  ‚Üí B (Good)
      </text>
      <text x="790" y="175" font-family="Arial, sans-serif" font-size="10" fill="white">
        If ratio ‚â§ 20%  ‚Üí C (Fair)
      </text>
    </g>
    
    <!-- Coverage -->
    <g class="metric-card">
      <rect x="1140" y="20" width="360" height="180" rx="15" fill="url(#metricGradient4)" filter="url(#shadow)"/>
      <text x="1320" y="55" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="white" text-anchor="middle">
        ‚úÖ Code Coverage
      </text>
      <line x1="1160" y1="65" x2="1480" y2="65" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
      
      <text x="1160" y="90" font-family="Arial, sans-serif" font-size="12" fill="white" font-weight="bold">
        Formula:
      </text>
      <text x="1160" y="110" font-family="Arial, sans-serif" font-size="11" fill="white">
        Coverage = (Covered Lines / Total Lines) √ó 100
      </text>
      
      <!-- Progress bar visualization -->
      <rect x="1160" y="125" width="320" height="30" rx="15" fill="rgba(0,0,0,0.3)"/>
      <rect x="1160" y="125" width="256" height="30" rx="15" fill="#a8e063">
        <animate attributeName="width" from="0" to="256" dur="2s" fill="freeze"/>
      </rect>
      <text x="1320" y="145" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">
        80%
      </text>
      
      <text x="1160" y="175" font-family="Arial, sans-serif" font-size="10" fill="white">
        Recommended: ‚â• 80% for production code
      </text>
    </g>
  </g>
  
  <!-- Rating Scale -->
  <g transform="translate(50, 350)">
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="white">
      üìà Rating Scale (A to E)
    </text>
    
    <g class="rating-badge">
      <rect x="0" y="20" width="280" height="100" rx="15" fill="url(#ratingGradientA)" filter="url(#shadow)"/>
      <text x="140" y="60" font-family="Arial, sans-serif" font-size="48" font-weight="bold" fill="white" text-anchor="middle">
        A
      </text>
      <text x="140" y="90" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">
        Excellent
      </text>
      <text x="140" y="108" font-family="Arial, sans-serif" font-size="11" fill="rgba(255,255,255,0.9)" text-anchor="middle">
        No issues or minimal
      </text>
    </g>
    
    <g class="rating-badge">
      <rect x="300" y="20" width="280" height="100" rx="15" fill="url(#ratingGradientB)" filter="url(#shadow)"/>
      <text x="440" y="60" font-family="Arial, sans-serif" font-size="48" font-weight="bold" fill="white" text-anchor="middle">
        B
      </text>
      <text x="440" y="90" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">
        Good
      </text>
      <text x="440" y="108" font-family="Arial, sans-serif" font-size="11" fill="rgba(255,255,255,0.9)" text-anchor="middle">
        Minor issues
      </text>
    </g>
    
    <g class="rating-badge">
      <rect x="600" y="20" width="280" height="100" rx="15" fill="url(#ratingGradientC)" filter="url(#shadow)"/>
      <text x="740" y="60" font-family="Arial, sans-serif" font-size="48" font-weight="bold" fill="white" text-anchor="middle">
        C
      </text>
      <text x="740" y="90" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">
        Fair
      </text>
      <text x="740" y="108" font-family="Arial, sans-serif" font-size="11" fill="rgba(255,255,255,0.9)" text-anchor="middle">
        Moderate issues
      </text>
    </g>
    
    <g class="rating-badge">
      <rect x="900" y="20" width="280" height="100" rx="15" fill="url(#ratingGradientD)" filter="url(#shadow)"/>
      <text x="1040" y="60" font-family="Arial, sans-serif" font-size="48" font-weight="bold" fill="white" text-anchor="middle">
        D
      </text>
      <text x="1040" y="90" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">
        Poor
      </text>
      <text x="1040" y="108" font-family="Arial, sans-serif" font-size="11" fill="rgba(255,255,255,0.9)" text-anchor="middle">
        Significant issues
      </text>
    </g>
    
    <g class="rating-badge">
      <rect x="1200" y="20" width="300" height="100" rx="15" fill="url(#ratingGradientE)" filter="url(#shadow)"/>
      <text x="1350" y="60" font-family="Arial, sans-serif" font-size="48" font-weight="bold" fill="white" text-anchor="middle">
        E
      </text>
      <text x="1350" y="90" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">
        Critical
      </text>
      <text x="1350" y="108" font-family="Arial, sans-serif" font-size="11" fill="rgba(255,255,255,0.9)" text-anchor="middle">
        Major problems
      </text>
    </g>
  </g>
  
  <!-- Quality Gate Section -->
  <g transform="translate(50, 510)">
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="white">
      üö¶ Quality Gate Conditions
    </text>
    
    <rect x="0" y="20" width="1500" height="200" rx="15" fill="rgba(255,255,255,0.1)" stroke="rgba(255,255,255,0.3)" stroke-width="2" filter="url(#shadow)"/>
    
    <text x="750" y="55" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white" text-anchor="middle">
      Default "Sonar way" Quality Gate
    </text>
    
    <!-- Conditions on New Code -->
    <text x="30" y="85" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#4facfe">
      Conditions on New Code:
    </text>
    
    <g class="gate-icon">
      <circle cx="50" cy="110" r="12" fill="#56ab2f"/>
      <text x="50" y="116" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">‚úì</text>
      <text x="70" y="115" font-family="Arial, sans-serif" font-size="13" fill="white">
        New Bugs = 0
      </text>
    </g>
    
    <g class="gate-icon">
      <circle cx="250" cy="110" r="12" fill="#56ab2f"/>
      <text x="250" y="116" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">‚úì</text>
      <text x="270" y="115" font-family="Arial, sans-serif" font-size="13" fill="white">
        New Vulnerabilities = 0
      </text>
    </g>
    
    <g class="gate-icon">
      <circle cx="520" cy="110" r="12" fill="#56ab2f"/>
      <text x="520" y="116" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">‚úì</text>
      <text x="540" y="115" font-family="Arial, sans-serif" font-size="13" fill="white">
        New Coverage ‚â• 80%
      </text>
    </g>
    
    <g class="gate-icon">
      <circle cx="750" cy="110" r="12" fill="#56ab2f"/>
      <text x="750" y="116" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">‚úì</text>
      <text x="770" y="115" font-family="Arial, sans-serif" font-size="13" fill="white">
        New Duplications &lt; 3%
      </text>
    </g>
    
    <g class="gate-icon">
      <circle cx="1000" cy="110" r="12" fill="#56ab2f"/>
      <text x="1000" y="116" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">‚úì</text>
      <text x="1020" y="115" font-family="Arial, sans-serif" font-size="13" fill="white">
        Security Hotspots Reviewed = 100%
      </text>
    </g>
    
    <!-- Conditions on Overall Code -->
    <text x="30" y="155" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#fee140">
      Conditions on Overall Code:
    </text>
    
    <g class="gate-icon">
      <circle cx="50" cy="180" r="12" fill="#56ab2f"/>
      <text x="50" y="186" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">‚úì</text>
      <text x="70" y="185" font-family="Arial, sans-serif" font-size="13" fill="white">
        Security Rating ‚â• A
      </text>
    </g>
    
    <g class="gate-icon">
      <circle cx="280" cy="180" r="12" fill="#56ab2f"/>
      <text x="280" y="186" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">‚úì</text>
      <text x="300" y="185" font-family="Arial, sans-serif" font-size="13" fill="white">
        Reliability Rating ‚â• A
      </text>
    </g>
  </g>
  
  <!-- Leak Period Explanation -->
  <g transform="translate(50, 750)">
    <rect x="0" y="0" width="720" height="200" rx="15" fill="rgba(74, 172, 254, 0.2)" stroke="#4facfe" stroke-width="3" filter="url(#shadow)"/>
    <text x="360" y="35" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="white" text-anchor="middle">
      üíß Leak Period (New Code Focus)
    </text>
    
    <text x="30" y="65" font-family="Arial, sans-serif" font-size="13" fill="white">
      <tspan font-weight="bold">What is it?</tspan> Focus on new and changed code since baseline
    </text>
    
    <text x="30" y="90" font-family="Arial, sans-serif" font-size="12" fill="white">
      ‚úì Prevents "grandfathering" old issues
    </text>
    <text x="30" y="110" font-family="Arial, sans-serif" font-size="12" fill="white">
      ‚úì Encourages continuous improvement
    </text>
    <text x="30" y="130" font-family="Arial, sans-serif" font-size="12" fill="white">
      ‚úì More manageable for legacy projects
    </text>
    
    <rect x="30" y="145" width="660" height="40" rx="8" fill="rgba(255,255,255,0.15)"/>
    <text x="360" y="168" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle" font-style="italic">
      Example: Project with 10,000 old issues ‚Üí Focus quality gate on new code only
    </text>
  </g>
  
  <!-- Data Engineering Thresholds -->
  <g transform="translate(800, 750)">
    <rect x="0" y="0" width="750" height="200" rx="15" fill="rgba(86, 171, 47, 0.2)" stroke="#56ab2f" stroke-width="3" filter="url(#shadow)"/>
    <text x="375" y="35" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="white" text-anchor="middle">
      üéØ Recommended Thresholds for Data Engineers
    </text>
    
    <g transform="translate(30, 55)">
      <text x="0" y="0" font-family="Arial, sans-serif" font-size="13" fill="white" font-weight="bold">
        ETL Pipelines:
      </text>
      <text x="20" y="20" font-family="Arial, sans-serif" font-size="11" fill="white">
        ‚Ä¢ Coverage ‚â• 75% (unit tests can be challenging)
      </text>
      <text x="20" y="37" font-family="Arial, sans-serif" font-size="11" fill="white">
        ‚Ä¢ Complexity &lt; 20 (ETL logic can be complex)
      </text>
      <text x="20" y="54" font-family="Arial, sans-serif" font-size="11" fill="white">
        ‚Ä¢ Zero security vulnerabilities (data access)
      </text>
      
      <text x="360" y="0" font-family="Arial, sans-serif" font-size="13" fill="white" font-weight="bold">
        Production APIs:
      </text>
      <text x="380" y="20" font-family="Arial, sans-serif" font-size="11" fill="white">
        ‚Ä¢ Coverage ‚â• 85% (mission-critical)
      </text>
      <text x="380" y="37" font-family="Arial, sans-serif" font-size="11" fill="white">
        ‚Ä¢ All ratings = A
      </text>
      <text x="380" y="54" font-family="Arial, sans-serif" font-size="11" fill="white">
        ‚Ä¢ Zero blocker/critical issues
      </text>
      
      <text x="0" y="85" font-family="Arial, sans-serif" font-size="13" fill="white" font-weight="bold">
        Data Analysis Scripts:
      </text>
      <text x="20" y="105" font-family="Arial, sans-serif" font-size="11" fill="white">
        ‚Ä¢ Coverage ‚â• 50% (exploratory nature)
      </text>
      <text x="20" y="122" font-family="Arial, sans-serif" font-size="11" fill="white">
        ‚Ä¢ Focus on security (data access, credentials)
      </text>
    </g>
  </g>
  
  <!-- Visual indicator -->
  <g class="pulse-icon">
    <circle cx="800" cy="100" r="30" fill="rgba(255,255,255,0.1)" stroke="white" stroke-width="2"/>
    <text x="800" y="110" font-family="Arial, sans-serif" font-size="24" fill="white" text-anchor="middle">üìä</text>
  </g>
</svg>
